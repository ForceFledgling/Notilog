# Архитектура серверной части

## Введение

В этой части документации описывается архитектура серверной части приложения NotiLog. Серверная часть отвечает за обработку событий, управление базой данных и отправку уведомлений. Архитектура разработана для обеспечения масштабируемости, надежности и простоты в обслуживании.

## Основные компоненты

**Серверное приложение**

Серверное приложение написано на Python с использованием фреймворка FastAPI. Оно обеспечивает основные API для взаимодействия с клиентами и обработки запросов. Основные функции включают:

*   Создание и управление событиями.
*   Обработка и хранение данных в базе данных.
*   Запуск фоновых задач для обработки уведомлений.

**База данных**

Для хранения информации об событиях используется реляционная база данных. В проекте используется SQLAlchemy для ORM (Object-Relational Mapping). Основные операции включают:

*   Создание и хранение записей о событиях.
*   Выполнение запросов для извлечения и сортировки данных.

**Фоновые задачи**

Фоновые задачи используются для выполнения длительных операций асинхронно. Для этого используется Celery, что позволяет выполнять задачи в фоновом режиме без блокировки основного потока приложения. Примеры задач включают:

*   Отправка уведомлений о новых событиях.
*   Обработка данных и интеграция с внешними системами.

**Маршрутизация и уведомления**

Серверная часть поддерживает отправку уведомлений через различные каналы, такие как Kafka, Telegram и электронная почта. Это позволяет гибко настроить оповещения и интеграцию с различными системами. Основные функции маршрутизации уведомлений описаны в `server/notifications.py`.

**Health Check**

Серверное приложение включает функциональность проверки состояния процессов. Это обеспечивает раннее обнаружение проблем и их своевременное решение.

> \# TODO

## Технологический стек

*   **Python** – язык программирования, используемый для написания серверной части.
*   **FastAPI** – фреймворк для создания API.
*   **SQLAlchemy** – ORM для работы с базой данных.
*   **Celery** – библиотека для управления фоновыми задачами.
*   **Kafka** – платформа для потоковой передачи данных.
*   **Telegram API** – для отправки сообщений через Telegram.
*   **SMTP** – для отправки электронных писем.